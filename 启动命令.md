# 启动命令指南

## 分别启动前后端（推荐用于开发）

### 1. 启动后端（支持热更新）

在**项目根目录**打开终端，执行：

```bash
# 设置环境变量
export PYTHONPATH="/Users/wy770/AI 简历:$PYTHONPATH"

# 启动后端（--reload 支持热更新）
cd "/Users/wy770/AI 简历"
python3 -m uvicorn backend.main:app --host 0.0.0.0 --port 8000 --reload
```

**说明**：
- `--reload`：支持热更新，修改代码后自动重启
- 后端地址：http://localhost:8000
- API 文档：http://localhost:8000/docs

### 2. 启动前端（支持热更新）

在**新的终端窗口**，执行：

```bash
cd "/Users/wy770/AI 简历/frontend"
npm run dev
```

**说明**：
- Vite 默认支持热更新（HMR），修改代码后自动刷新
- 前端地址：http://localhost:5173
- 如果端口被占用，会自动使用下一个可用端口

### 3. 查看日志

**后端日志**：
```bash
# 实时查看
tail -f logs/backend/backend.log

# 或者查看按日期命名的日志
tail -f logs/backend/$(date +%Y-%m-%d).log
```

**前端日志**：
```bash
# 实时查看
tail -f logs/frontend/frontend.log
```

## 一键启动（使用脚本）

如果需要同时启动前后端，可以使用：

```bash
./start.sh
```

这会：
- 自动清理旧进程
- 检查依赖
- 启动后端和前端
- 输出日志文件

## 停止服务

**手动停止**：
- 后端：在运行后端的终端按 `Ctrl+C`
- 前端：在运行前端的终端按 `Ctrl+C`

**使用脚本停止**：
```bash
./stop.sh
```

## 常见问题

### 端口被占用

**后端端口 8000 被占用**：
```bash
# 查找占用端口的进程
lsof -i :8000

# 杀死进程
kill -9 $(lsof -t -i:8000)
```

**前端端口 5173 被占用**：
```bash
# 查找占用端口的进程
lsof -i :5173

# 杀死进程
kill -9 $(lsof -t -i:5173)
```

### 热更新不工作

**后端热更新不工作**：
- 确保使用了 `--reload` 参数
- 检查文件是否有权限问题

**前端热更新不工作**：
- Vite 默认支持 HMR，如果不行，尝试：
  ```bash
  # 清理缓存
  rm -rf node_modules/.vite
  rm -rf dist
  
  # 重新启动
  npm run dev
  ```

### 环境变量问题

如果遇到模块导入错误，确保设置了 `PYTHONPATH`：
```bash
export PYTHONPATH="/Users/wy770/AI 简历:$PYTHONPATH"
```

或者添加到 `~/.zshrc` 或 `~/.bashrc`：
```bash
echo 'export PYTHONPATH="/Users/wy770/AI 简历:$PYTHONPATH"' >> ~/.zshrc
source ~/.zshrc
```


