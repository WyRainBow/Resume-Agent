# å®Œæ•´éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å°†ç®€å†ç”Ÿæˆé¡¹ç›®éƒ¨ç½²åˆ°äº‘ç«¯ï¼Œä½¿ç”¨ Cloudflare Pagesï¼ˆå‰ç«¯ï¼‰å’Œ Railwayï¼ˆåç«¯ï¼‰ã€‚

## ğŸ“‹ éƒ¨ç½²æ¶æ„

- **å‰ç«¯**: Cloudflare Pagesï¼ˆå…è´¹ï¼‰
- **åç«¯**: Railwayï¼ˆå…è´¹é¢åº¦ï¼‰
- **åŸŸå**: Cloudflare ç®¡ç†ï¼ˆå…è´¹ SSL è¯ä¹¦ï¼‰

---

## ç¬¬ä¸€æ­¥ï¼šæ³¨å†ŒåŸŸå

### 1.1 é€‰æ‹©åŸŸåæ³¨å†Œå•†

æ¨èä½¿ç”¨ï¼š
- **è…¾è®¯äº‘**ï¼ˆå›½å†…ç”¨æˆ·ï¼‰
- **Cloudflare Registrar**ï¼ˆå›½å¤–ç”¨æˆ·ï¼Œä»·æ ¼ä¾¿å®œï¼‰
- **Namecheap**ï¼ˆå›½å¤–ç”¨æˆ·ï¼‰

### 1.2 æ³¨å†ŒåŸŸå

1. è®¿é—®åŸŸåæ³¨å†Œå•†ç½‘ç«™
2. æœç´¢å¹¶é€‰æ‹©åŸŸåï¼ˆä¾‹å¦‚ï¼š`resumegenkk.xyz`ï¼‰
3. å®Œæˆè´­ä¹°å’Œæ”¯ä»˜
4. ç­‰å¾…åŸŸåç”Ÿæ•ˆï¼ˆé€šå¸¸å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶ï¼‰

### 1.3 å°†åŸŸåæ·»åŠ åˆ° Cloudflare

1. è®¿é—® [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. ç‚¹å‡» "Add a Site"
3. è¾“å…¥ä½ çš„åŸŸåï¼ˆå¦‚ `resumegenkk.xyz`ï¼‰
4. é€‰æ‹©å…è´¹è®¡åˆ’ï¼ˆFree planï¼‰
5. ç‚¹å‡» "Continue"
6. æŸ¥çœ‹ Cloudflare æä¾›çš„ DNS æœåŠ¡å™¨åœ°å€ï¼ˆä¾‹å¦‚ï¼š`linda.ns.cloudflare.com`ï¼‰

### 1.4 åœ¨åŸŸåæ³¨å†Œå•†ä¿®æ”¹ DNS æœåŠ¡å™¨

1. å›åˆ°åŸŸåæ³¨å†Œå•†æ§åˆ¶å°
2. è¿›å…¥"åŸŸåç®¡ç†" â†’ æ‰¾åˆ°ä½ çš„åŸŸå
3. ç‚¹å‡»"ä¿®æ”¹ DNS æœåŠ¡å™¨"
4. åˆ é™¤åŸæœ‰çš„ DNS æœåŠ¡å™¨
5. æ·»åŠ  Cloudflare æä¾›çš„ä¸¤ä¸ª DNS æœåŠ¡å™¨åœ°å€
6. ä¿å­˜

### 1.5 åœ¨ Cloudflare ç¡®è®¤

1. å›åˆ° Cloudflareï¼Œç‚¹å‡» "Continue"
2. ç­‰å¾… DNS ç”Ÿæ•ˆï¼ˆé€šå¸¸å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶ï¼‰

---

## ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²å‰ç«¯åˆ° Cloudflare Pages

### 2.1 è¿›å…¥ Cloudflare Pages

1. è®¿é—® [Cloudflare Pages](https://dash.cloudflare.com/pages)
2. ç‚¹å‡» "Create application" â†’ "Pages" â†’ "Connect to Git"
3. é€‰æ‹© GitHubï¼Œæˆæƒå¹¶é€‰æ‹©ä½ çš„ä»“åº“

### 2.2 é…ç½®æ„å»ºè®¾ç½®

åœ¨æ„å»ºé…ç½®é¡µé¢å¡«å†™ï¼š

- **Framework preset**: `None`ï¼ˆæˆ–é€‰æ‹© "Vite"ï¼‰
- **Build command**: `cd frontend && npm install && npm run build`
- **Build output directory**: `frontend/dist`ï¼ˆæ³¨æ„ï¼šè¾“å…¥æ¡†å‰é¢æœ‰å›ºå®šçš„ `/`ï¼Œåªéœ€å¡«å†™ `frontend/dist`ï¼‰
- **Root directory**: `/`ï¼ˆç•™ç©ºæˆ–å¡« `/`ï¼‰

### 2.3 éƒ¨ç½²

1. ç‚¹å‡» "Save and Deploy"
2. ç­‰å¾…æ„å»ºå®Œæˆï¼ˆçº¦ 2-5 åˆ†é’Ÿï¼‰
3. éƒ¨ç½²æˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé¢„è§ˆåœ°å€ï¼ˆå¦‚ `resume-agent.pages.dev`ï¼‰

### 2.4 ç»‘å®šè‡ªå®šä¹‰åŸŸå

1. éƒ¨ç½²å®Œæˆåï¼Œè¿›å…¥é¡¹ç›®è®¾ç½®
2. æ‰¾åˆ° "Custom domains" æ ‡ç­¾
3. ç‚¹å‡» "Set up a custom domain"
4. è¾“å…¥ä½ çš„åŸŸåï¼ˆå¦‚ `resumegenkk.xyz`ï¼‰
5. Cloudflare ä¼šè‡ªåŠ¨é…ç½® SSL è¯ä¹¦ï¼ˆå…è´¹ HTTPSï¼‰

---

## ç¬¬ä¸‰æ­¥ï¼šéƒ¨ç½²åç«¯åˆ° Railway

### 3.1 ç™»å½• Railway

1. è®¿é—® [Railway](https://railway.app/)
2. ä½¿ç”¨ GitHub è´¦å·ç™»å½•

### 3.2 åˆ›å»ºé¡¹ç›®

1. ç‚¹å‡» "New Project"
2. é€‰æ‹© "Deploy from GitHub repo"
3. é€‰æ‹©ä½ çš„ä»“åº“ï¼ˆå¦‚ `WyRainBow/Resume-Agent`ï¼‰

### 3.3 é…ç½®æœåŠ¡

1. Railway ä¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®
2. å¦‚æœæ²¡æœ‰è‡ªåŠ¨åˆ›å»ºæœåŠ¡ï¼Œç‚¹å‡» "New" â†’ "GitHub Repo" â†’ é€‰æ‹©ä»“åº“

### 3.4 è®¾ç½®æœåŠ¡é…ç½®

åœ¨æœåŠ¡è®¾ç½®ä¸­ï¼š

1. ç‚¹å‡»æœåŠ¡ï¼Œè¿›å…¥ "Settings" æ ‡ç­¾
2. æ‰¾åˆ° "Source" éƒ¨åˆ†ï¼š
   - **Root Directory**: è®¾ç½®ä¸º `backend`
   - **Branch**: é€‰æ‹© `main`

3. æ‰¾åˆ° "Deploy" éƒ¨åˆ†ï¼š
   - **Custom Start Command**: è®¾ç½®ä¸º `uvicorn main:app --host 0.0.0.0 --port $PORT`

### 3.5 é…ç½®ç¯å¢ƒå˜é‡

åœ¨ "Variables" æ ‡ç­¾é¡µï¼Œæ·»åŠ ä»¥ä¸‹å˜é‡ï¼š

```
ZHIPU_API_KEY=ä½ çš„æ™ºè°±APIå¯†é’¥
DOUBAO_API_KEY=ä½ çš„è±†åŒ…APIå¯†é’¥
PYTHONPATH=/app
```

ï¼ˆå…¶ä»–å˜é‡å¦‚ `GEMINI_API_KEY`ã€`DOUBAO_MODEL` ç­‰æ ¹æ®ä½ çš„éœ€è¦æ·»åŠ ï¼‰

### 3.6 åˆ›å»º runtime.txtï¼ˆé‡è¦ï¼‰

åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `backend` æ–‡ä»¶å¤¹ä¸‹åˆ›å»º `runtime.txt` æ–‡ä»¶ï¼š

```txt
python-3.11.9
```

ç„¶åæäº¤å¹¶æ¨é€åˆ° GitHubï¼š

```bash
git add backend/runtime.txt
git commit -m "chore: add runtime.txt for Railway deployment"
git push
```

### 3.7 ç”Ÿæˆå…¬ç½‘åŸŸå

1. åœ¨ "Settings" â†’ "Networking"
2. ç‚¹å‡» "Generate Domain" æˆ–ä½¿ç”¨ "Public Domain"
3. å¤åˆ¶è¿™ä¸ªåœ°å€ï¼ˆå¦‚ `https://xxx.railway.app`ï¼‰

### 3.8 ç­‰å¾…éƒ¨ç½²å®Œæˆ

1. Railway ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ–°çš„æäº¤å¹¶å¼€å§‹éƒ¨ç½²
2. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆçº¦ 2-5 åˆ†é’Ÿï¼‰
3. æ£€æŸ¥éƒ¨ç½²çŠ¶æ€ï¼Œç¡®ä¿æ˜¾ç¤º "Deployment successful"

---

## ç¬¬å››æ­¥ï¼šè¿æ¥å‰åç«¯

### 4.1 åœ¨ Cloudflare Pages æ·»åŠ ç¯å¢ƒå˜é‡

1. è¿›å…¥ Cloudflare Pages é¡¹ç›®è®¾ç½®
2. ç‚¹å‡» "Settings" æ ‡ç­¾
3. æ‰¾åˆ° "Variables and Secrets" éƒ¨åˆ†
4. ç‚¹å‡» "Add" æŒ‰é’®
5. å¡«å†™ï¼š
   - **Variable name**: `VITE_API_BASE_URL`
   - **Value**: ä½ çš„ Railway åç«¯åœ°å€ï¼ˆå¦‚ `https://xxx.railway.app`ï¼‰
   - **Type**: é€‰æ‹© "Plain text" æˆ– "Secret"
6. ç‚¹å‡» "Save"

### 4.2 é‡æ–°éƒ¨ç½²å‰ç«¯

1. åœ¨ Cloudflare Pages é¡¹ç›®ä¸­ï¼Œè¿›å…¥ "Deployments" æ ‡ç­¾
2. æ‰¾åˆ°æœ€æ–°çš„éƒ¨ç½²
3. ç‚¹å‡»å³ä¾§çš„ "..." èœå•
4. é€‰æ‹© "Retry deployment" æˆ– "Redeploy"
5. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆçº¦ 2-5 åˆ†é’Ÿï¼‰

---

## ç¬¬äº”æ­¥ï¼šæµ‹è¯•è®¿é—®

### 5.1 è®¿é—®ä½ çš„ç½‘ç«™

1. è®¿é—®ä½ çš„è‡ªå®šä¹‰åŸŸåï¼š`https://resumegenkk.xyz`
2. æˆ–è€…è®¿é—® Cloudflare Pages æä¾›çš„åœ°å€ï¼š`https://resume-agent.pages.dev`

### 5.2 æµ‹è¯•åŠŸèƒ½

1. æµ‹è¯•å‰ç«¯é¡µé¢æ˜¯å¦æ­£å¸¸åŠ è½½
2. æµ‹è¯• API è°ƒç”¨æ˜¯å¦æ­£å¸¸ï¼ˆå¦‚ç”Ÿæˆç®€å†ã€æ¸²æŸ“ PDF ç­‰ï¼‰
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

---

## ğŸ”§ å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼šRailway éƒ¨ç½²å¤±è´¥ "Error creating build plan with Railpack"

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®ä¿ `backend` ç›®å½•ä¸‹æœ‰ `requirements.txt` æ–‡ä»¶
2. ç¡®ä¿ `backend` ç›®å½•ä¸‹æœ‰ `main.py` æ–‡ä»¶
3. åˆ›å»º `backend/runtime.txt` æ–‡ä»¶ï¼ŒæŒ‡å®š Python ç‰ˆæœ¬
4. åœ¨ Railway è®¾ç½®ä¸­ï¼Œç¡®ä¿ Root Directory è®¾ç½®ä¸º `backend`
5. ç¡®ä¿ Start Command è®¾ç½®ä¸º `uvicorn main:app --host 0.0.0.0 --port $PORT`

### é—®é¢˜ 2ï¼šå‰ç«¯æ— æ³•è¿æ¥åç«¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ Cloudflare Pages çš„ç¯å¢ƒå˜é‡ `VITE_API_BASE_URL` æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥ Railway åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
3. æ£€æŸ¥åç«¯ CORS é…ç½®æ˜¯å¦å…è®¸å‰ç«¯åŸŸåè®¿é—®
4. é‡æ–°éƒ¨ç½²å‰ç«¯ï¼ˆæ·»åŠ ç¯å¢ƒå˜é‡åå¿…é¡»é‡æ–°éƒ¨ç½²ï¼‰

### é—®é¢˜ 3ï¼šåŸŸåæ— æ³•è®¿é—®

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ DNS æœåŠ¡å™¨æ˜¯å¦å·²æ­£ç¡®é…ç½®
2. ç­‰å¾… DNS ç”Ÿæ•ˆï¼ˆå¯èƒ½éœ€è¦å‡ å°æ—¶ï¼‰
3. åœ¨ Cloudflare æ£€æŸ¥åŸŸåçŠ¶æ€
4. æ£€æŸ¥ SSL è¯ä¹¦æ˜¯å¦å·²è‡ªåŠ¨é…ç½®

### é—®é¢˜ 4ï¼šæ„å»ºå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æ„å»ºæ—¥å¿—ï¼ŒæŸ¥çœ‹å…·ä½“é”™è¯¯ä¿¡æ¯
2. ç¡®ä¿ `frontend/package.json` å­˜åœ¨ä¸”ä¾èµ–æ­£ç¡®
3. ç¡®ä¿ Build command å’Œ Build output directory é…ç½®æ­£ç¡®
4. æ£€æŸ¥ä»£ç æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯

---

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### å‰ç«¯ï¼ˆCloudflare Pagesï¼‰
- [ ] ä»£ç å·²æ¨é€åˆ° GitHub
- [ ] å·²åˆ›å»º Pages é¡¹ç›®å¹¶è¿æ¥ GitHub
- [ ] Build command é…ç½®æ­£ç¡®ï¼š`cd frontend && npm install && npm run build`
- [ ] Build output directory é…ç½®æ­£ç¡®ï¼š`frontend/dist`
- [ ] å·²ç»‘å®šè‡ªå®šä¹‰åŸŸå
- [ ] å·²æ·»åŠ ç¯å¢ƒå˜é‡ `VITE_API_BASE_URL`
- [ ] å·²é‡æ–°éƒ¨ç½²å‰ç«¯

### åç«¯ï¼ˆRailwayï¼‰
- [ ] å·²åˆ›å»º Railway é¡¹ç›®å¹¶è¿æ¥ GitHub
- [ ] Root Directory è®¾ç½®ä¸º `backend`
- [ ] Start Command è®¾ç½®ä¸º `uvicorn main:app --host 0.0.0.0 --port $PORT`
- [ ] å·²æ·»åŠ æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡
- [ ] å·²åˆ›å»ºå¹¶æ¨é€ `backend/runtime.txt` æ–‡ä»¶
- [ ] éƒ¨ç½²çŠ¶æ€ä¸º "Deployment successful"
- [ ] å·²ç”Ÿæˆå…¬ç½‘åŸŸå

### åŸŸå
- [ ] å·²æ³¨å†ŒåŸŸå
- [ ] å·²å°†åŸŸåæ·»åŠ åˆ° Cloudflare
- [ ] å·²åœ¨åŸŸåæ³¨å†Œå•†ä¿®æ”¹ DNS æœåŠ¡å™¨
- [ ] DNS å·²ç”Ÿæ•ˆ
- [ ] SSL è¯ä¹¦å·²è‡ªåŠ¨é…ç½®

---

## ğŸ‰ å®Œæˆ

éƒ¨ç½²å®Œæˆåï¼Œä½ çš„ç½‘ç«™åº”è¯¥å¯ä»¥é€šè¿‡è‡ªå®šä¹‰åŸŸåè®¿é—®äº†ï¼

å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- Cloudflare Pages çš„éƒ¨ç½²æ—¥å¿—
- Railway çš„éƒ¨ç½²æ—¥å¿—
- æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Cloudflare Pages æ–‡æ¡£](https://developers.cloudflare.com/pages/)
- [Railway æ–‡æ¡£](https://docs.railway.app/)
- [é¡¹ç›® README](../README.md)

---

**æœ€åæ›´æ–°**: 2025-12-21

