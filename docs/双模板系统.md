分析当前问题并给出建议：

## 当前问题分析

1. LaTeX 渲染延迟：需要编译，无法实时预览
2. 用户体验：编辑后需点击“渲染 PDF”才能看到效果
3. 迭代效率：无法快速调整和查看

## 建议方案：双模板系统

### 方案一：保留 LaTeX + 新增 HTML 模板（推荐）

**优势：**
- LaTeX 模板：最终导出高质量 PDF（适合打印、正式投递）
- HTML 模板：实时编辑预览（快速迭代、即时反馈）
- 用户可切换：根据需求选择模板类型

**实现方式：**
```
模板选择：
├── LaTeX 模板（经典/现代/简洁）
│   └── 优点：专业、高质量、适合打印
│   └── 缺点：需要渲染时间
│
└── HTML 模板（实时预览）
    └── 优点：实时预览、快速迭代
    └── 缺点：打印质量略低于 LaTeX
```

### 方案二：HTML 为主，LaTeX 为辅

**优势：**
- 默认使用 HTML 模板（实时预览）
- 需要高质量 PDF 时，可导出为 LaTeX 格式
- 编辑体验更流畅

## 具体建议

### 1. 新增 HTML 模板系统

参考图片中的简历样式，建议实现：

**模板特点：**
- 实时预览：左侧编辑，右侧即时显示
- 响应式布局：适配不同屏幕
- 多种样式：经典、现代、简洁等
- 无需编译：纯 HTML/CSS，渲染速度快

**技术实现：**
```typescript
// 模板结构
interface HTMLTemplate {
  id: string
  name: string
  type: 'html' | 'latex'
  preview: React.Component  // 实时预览组件
  export: (data: ResumeData) => Blob  // 导出功能
}
```

### 2. 模板切换功能

在编辑区域添加模板选择器：
```
[LaTeX 模板] [HTML 模板] ← 切换按钮
```

### 3. 实时预览实现

**HTML 模板预览：**
- 使用 React 组件直接渲染
- 数据变化时立即更新预览
- 无需等待编译过程

**LaTeX 模板预览：**
- 保留现有渲染功能
- 作为“高质量导出”选项

## 推荐方案

建议采用方案一：双模板系统

**理由：**
1. 满足不同场景：
   - 日常编辑：HTML 模板（实时预览）
   - 最终导出：LaTeX 模板（高质量 PDF）

2. 渐进式迁移：
   - 先实现 HTML 模板
   - 保留 LaTeX 模板
   - 用户可自由选择

3. 用户体验：
   - 编辑时用 HTML（快速迭代）
   - 导出时用 LaTeX（专业质量）

## 实施建议

### 第一阶段：HTML 模板基础版
- 实现 1-2 个 HTML 模板样式
- 支持实时预览
- 基础导出功能

### 第二阶段：模板丰富
- 增加更多 HTML 模板样式
- 优化预览性能
- 完善导出功能

### 第三阶段：智能切换
- 根据用户行为推荐模板
- 支持模板混合使用
- 优化渲染性能

## 总结

建议新增 HTML 模板系统，原因：
1. 解决实时预览问题
2. 提升编辑体验
3. 保留 LaTeX 高质量导出
4. 用户可根据需求选择

这样既解决了实时编辑预览的问题，又保留了高质量 PDF 导出的能力。



点击 LaTeX 模板 → 进入工作区显示 LaTeX PDF 渲染效果
点击 HTML 模板 → 进入工作区显示 HTML 实时编辑 效果

---

## 进阶方案：独立路由架构（推荐）

### 背景

LaTeX 模板比较复杂且独立，涉及后端编译、PDF 预览、渲染按钮等。
HTML 模板更灵活，未来可扩展主题切换、样式编辑等功能。

**建议**：将两种模板拆分为独立页面/路由，共享核心编辑逻辑。

### 目录结构

```
workspace/
├── shared/              # 共享核心逻辑
│   ├── hooks/          # useResumeData, useTemplateOperations
│   ├── components/     # EditPanel, SidePanel, Header
│   └── utils/          # 数据转换、存储
│
├── latex/              # LaTeX 模板页面
│   ├── index.tsx       # LaTeX 专用布局
│   └── PDFPreview.tsx  # PDF 预览组件（含渲染按钮）
│
└── html/               # HTML 模板页面
    ├── index.tsx       # HTML 专用布局
    ├── HTMLPreview.tsx # HTML 预览组件（实时预览）
    └── ThemeEditor.tsx # 主题编辑器（未来扩展）
```

### 路由设计

```
/workspace/latex/:id?  → LaTeX 模板工作区
/workspace/html/:id?   → HTML 模板工作区
/workspace              → 根据 templateType 自动跳转到对应路由
```

### 核心理念

1. **共享核心**：编辑面板、数据管理、侧边栏、保存逻辑等共享
2. **独立渲染**：LaTeX 和 HTML 各自有独立的预览组件和导出逻辑
3. **统一数据**：使用相同的 `ResumeData` 类型，通过 `templateType` 区分

### 各层职责

| 层级 | LaTeX 模板 | HTML 模板 |
|------|-----------|-----------|
| 预览 | PDF.js 渲染 | React 组件直接渲染 |
| 渲染 | 需点击"渲染 PDF" | 实时更新 |
| 导出 | 后端 LaTeX 编译 | html2pdf.js 前端转换 |
| 扩展 | 保持稳定 | 支持主题切换、样式编辑 |

### 优势

1. **职责分离**：两种模板互不干扰，逻辑清晰
2. **易于扩展**：HTML 模板可独立添加主题切换、颜色编辑等功能
3. **性能优化**：HTML 页面无需加载 PDF.js，减少初始体积
4. **向后兼容**：LaTeX 模板保持稳定

### 实施步骤

**阶段 1：提取共享组件**
- 创建 `workspace/shared` 目录
- 提取共享 hooks 和组件

**阶段 2：拆分页面**
- 创建 `workspace/latex/index.tsx`
- 创建 `workspace/html/index.tsx`
- 配置路由

**阶段 3：模板市场跳转**
- 点击 LaTeX 模板 → 跳转 `/workspace/latex`
- 点击 HTML 模板 → 跳转 `/workspace/html`

**阶段 4：增强 HTML 模板（未来）**
- 添加主题切换
- 添加样式编辑器
- 添加更多 HTML 模板样式